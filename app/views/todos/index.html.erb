<table>
  <tr>
    <td>action_name:</td>
    <td><%= action_name.encoding %></td>
  <tr/>
  <tr>
    <td>controller.action_name:</td>
    <td><%= controller.action_name.encoding %></td>
  </tr>
  <tr>
    <td>controller_name:</td>
    <td><%= controller_name.encoding %></td>
  <tr/>
  <tr>
    <td>__ENCODING__:</td>
    <td><%= __ENCODING__ %></td>
  <tr/>
  <tr>
    <td>Encoding::BINARY:</td>
    <td><%= Encoding::BINARY %></td>
  <tr/>
  <tr>
    <td>Symbol is US-ASCII:</td>
    <td><%= :abc.to_s.encoding %></td>
  </tr>
  <tr>
    <td>String is UTF-8:</td>
    <td><%= "abc".encoding %></td>
  </tr>
  <tr>
    <td>Enable the line below to blow it up after a reflex:</td>
    <td><%#= action_name.parameterize %></td>
  </tr>
  <tr>
    <td>Time.now:</td>
    <td><%= Time.now %></td>
  </tr>
</table>

<br/><br/>

Params:
<ul>
  <% request.params.each do |param| %>
    <li><%= "#{param[0]} (#{param[0].encoding}) => #{param[1]} (#{param[1].encoding})" %> </li>
  <% end %>
</ul>


<section class="todoapp" data-controller="todos">
  <header class="header">
    <h1><small><%= truncate "#{session[:filter]} todos", length: 12 %></small></h1>
    <input <%= "autofocus " unless @edit_id %> class="new-todo" placeholder="What needs to be done?"
      data-reflex="change->TodosReflex#create" data-room="<%= session.id %>">
  </header>

  <% if @all_todos.any? %>
    <section class="main">
      <input class="toggle-all" type="checkbox">
      <label data-reflex="click->TodosReflex#toggle_all" data-room="<%= session.id %>">
        Mark all as complete
      </label>
      <ul class="todo-list" data-target="todos.list">
        <%= render partial: "todo", collection: @filtered_todos %>
      </ul>
    </section>
  <% end %>

  <%= render "/todos/filters" if @all_todos.any? %>
</section>

<section>
  <p>We had a lot of fun building this demo with <a href="https://docs.stimulusreflex.com">StimulusReflex</a>.</p>
  <iframe src="https://ghbtns.com/github-btn.html?user=hopsoft&repo=stimulus_reflex_todomvc&type=star&count=true" frameborder="0" scrolling="0" style="height:20px;"></iframe>
  <iframe src="https://ghbtns.com/github-btn.html?user=hopsoft&repo=stimulus_reflex_todomvc&type=fork&count=true" frameborder="0" scrolling="0" style="height:20px;"></iframe>
  <iframe src="https://ghbtns.com/github-btn.html?user=hopsoft&type=follow&count=true" frameborder="0" scrolling="0" style="height:20px;"></iframe>
  <iframe src="https://ghbtns.com/github-btn.html?user=andrewmcodes&type=follow&count=true" frameborder="0" scrolling="0" style="height:20px;"></iframe>
</section>
